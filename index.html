<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>검측요청서 생성기</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar no-print">
    <div class="brand">
      <div class="title">검측요청서 생성기</div>
      <div class="subtitle">GitHub Pages용 · 설치 없이 브라우저에서 작성 → PDF 저장</div>
    </div>
    <div class="actions">
      <button id="btnNewNo" class="btn">번호 새로 발급</button>
      <button id="btnResetCounter" class="btn btn-ghost" title="일련번호를 1부터 다시 시작">일련번호 초기화</button>
      <button id="btnPrint" class="btn btn-primary">PDF 저장(인쇄)</button>
    </div>
  </header>

  <main class="wrap">
    <!-- 입력 영역 -->
    <section class="card no-print">
      <h2>입력</h2>

      <div class="grid">
        <label class="field">
          <span>검측요청서 번호(자동)</span>
          <input id="reqNo" type="text" readonly />
          <small>형식: IR-YYYYMMDD-XXX (XXX는 자동 증가)</small>
        </label>

        <label class="field">
          <span>요청일자</span>
          <input id="reqDate" type="date" />
        </label>

        <label class="field">
          <span>현장명</span>
          <input id="siteName" type="text" placeholder="예: ○○현장" />
        </label>

        <label class="field">
          <span>위치</span>
          <input id="location" type="text" placeholder="예: 101동 3F" />
        </label>

        <label class="field">
          <span>공종</span>
          <input id="trade" type="text" placeholder="예: 바닥 배근" />
        </label>

        <label class="field">
          <span>검측부위</span>
          <input id="part" type="text" placeholder="예: 슬래브 철근 배근" />
        </label>

        <label class="field">
          <span>시공사 담당자</span>
          <input id="contractor" type="text" placeholder="예: ○○건설 / 홍길동" />
        </label>

        <label class="field">
          <span>감리/검측자</span>
          <input id="inspector" type="text" placeholder="예: ○○감리 / 김감리" />
        </label>

        <label class="field field-wide">
          <span>주요 확인사항(요약)</span>
          <textarea id="summary" rows="3" placeholder="예: 철근 간격/피복/정착길이 확인 요청"></textarea>
        </label>

        <label class="field field-wide">
          <span>비고</span>
          <textarea id="remarks" rows="2" placeholder="예: 도면번호, 사진첨부 여부 등"></textarea>
        </label>
      </div>

      <div class="hint">
        입력하면 아래 ‘미리보기’가 자동 반영돼. PDF는 상단의 <b>PDF 저장(인쇄)</b> 버튼을 눌러 <b>대상: PDF로 저장</b>을 선택하면 돼.
      </div>
    </section>

    <!-- 출력 미리보기(인쇄 영역) -->
    <section class="paper" id="paper">
      <div class="paper-header">
        <div class="paper-title">검측요청서</div>
        <div class="paper-meta">
          <div><span class="k">번호</span> <span class="v" data-bind="reqNo"></span></div>
          <div><span class="k">요청일자</span> <span class="v" data-bind="reqDateFmt"></span></div>
        </div>
      </div>

      <table class="tbl">
        <colgroup>
          <col style="width: 18%" />
          <col style="width: 32%" />
          <col style="width: 18%" />
          <col style="width: 32%" />
        </colgroup>
        <tbody>
          <tr>
            <th>현장명</th>
            <td data-bind="siteName"></td>
            <th>위치</th>
            <td data-bind="location"></td>
          </tr>
          <tr>
            <th>공종</th>
            <td data-bind="trade"></td>
            <th>검측부위</th>
            <td data-bind="part"></td>
          </tr>
          <tr>
            <th>시공사 담당</th>
            <td data-bind="contractor"></td>
            <th>감리/검측자</th>
            <td data-bind="inspector"></td>
          </tr>
          <tr>
            <th>주요 확인사항</th>
            <td colspan="3" class="multiline" data-bind="summary"></td>
          </tr>
          <tr>
            <th>비고</th>
            <td colspan="3" class="multiline" data-bind="remarks"></td>
          </tr>
        </tbody>
      </table>

      <div class="sign">
        <div class="sign-box">
          <div class="sign-title">시공사 확인</div>
          <div class="sign-line">성명: __________________ (서명)</div>
        </div>
        <div class="sign-box">
          <div class="sign-title">감리 확인</div>
          <div class="sign-line">성명: __________________ (서명)</div>
        </div>
      </div>

      <div class="footer-note">
        * 본 문서는 브라우저에서 생성되었습니다. 필요 시 출력 후 서명/날인 바랍니다.
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
